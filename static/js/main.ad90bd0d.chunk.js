(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{229:function(e,t,a){e.exports=a(395)},239:function(e,t,a){},363:function(e,t,a){},394:function(e,t,a){var n={"./af":[106,0],"./af.js":[106,0],"./ar":[113,7],"./ar-dz":[107,1],"./ar-dz.js":[107,1],"./ar-kw":[108,2],"./ar-kw.js":[108,2],"./ar-ly":[109,3],"./ar-ly.js":[109,3],"./ar-ma":[110,4],"./ar-ma.js":[110,4],"./ar-sa":[111,5],"./ar-sa.js":[111,5],"./ar-tn":[112,6],"./ar-tn.js":[112,6],"./ar.js":[113,7],"./az":[114,8],"./az.js":[114,8],"./be":[115,9],"./be.js":[115,9],"./bg":[116,10],"./bg.js":[116,10],"./bm":[117,11],"./bm.js":[117,11],"./bn":[118,12],"./bn.js":[118,12],"./bo":[119,13],"./bo.js":[119,13],"./br":[120,14],"./br.js":[120,14],"./bs":[121,15],"./bs.js":[121,15],"./ca":[122,16],"./ca.js":[122,16],"./cs":[123,17],"./cs.js":[123,17],"./cv":[124,18],"./cv.js":[124,18],"./cy":[125,19],"./cy.js":[125,19],"./da":[126,20],"./da.js":[126,20],"./de":[129,23],"./de-at":[127,21],"./de-at.js":[127,21],"./de-ch":[128,22],"./de-ch.js":[128,22],"./de.js":[129,23],"./dv":[130,24],"./dv.js":[130,24],"./el":[131,25],"./el.js":[131,25],"./en-au":[132,26],"./en-au.js":[132,26],"./en-ca":[133,27],"./en-ca.js":[133,27],"./en-gb":[134,28],"./en-gb.js":[134,28],"./en-ie":[135,29],"./en-ie.js":[135,29],"./en-il":[136,30],"./en-il.js":[136,30],"./en-nz":[137,31],"./en-nz.js":[137,31],"./eo":[138,32],"./eo.js":[138,32],"./es":[141,35],"./es-do":[139,33],"./es-do.js":[139,33],"./es-us":[140,34],"./es-us.js":[140,34],"./es.js":[141,35],"./et":[142,36],"./et.js":[142,36],"./eu":[143,37],"./eu.js":[143,37],"./fa":[144,38],"./fa.js":[144,38],"./fi":[145,39],"./fi.js":[145,39],"./fo":[146,40],"./fo.js":[146,40],"./fr":[149,43],"./fr-ca":[147,41],"./fr-ca.js":[147,41],"./fr-ch":[148,42],"./fr-ch.js":[148,42],"./fr.js":[149,43],"./fy":[150,44],"./fy.js":[150,44],"./gd":[151,45],"./gd.js":[151,45],"./gl":[152,46],"./gl.js":[152,46],"./gom-latn":[153,47],"./gom-latn.js":[153,47],"./gu":[154,48],"./gu.js":[154,48],"./he":[155,49],"./he.js":[155,49],"./hi":[156,50],"./hi.js":[156,50],"./hr":[157,51],"./hr.js":[157,51],"./hu":[158,52],"./hu.js":[158,52],"./hy-am":[159,53],"./hy-am.js":[159,53],"./id":[160,54],"./id.js":[160,54],"./is":[161,55],"./is.js":[161,55],"./it":[162,56],"./it.js":[162,56],"./ja":[163,57],"./ja.js":[163,57],"./jv":[164,58],"./jv.js":[164,58],"./ka":[165,59],"./ka.js":[165,59],"./kk":[166,60],"./kk.js":[166,60],"./km":[167,61],"./km.js":[167,61],"./kn":[168,62],"./kn.js":[168,62],"./ko":[169,63],"./ko.js":[169,63],"./ky":[170,64],"./ky.js":[170,64],"./lb":[171,65],"./lb.js":[171,65],"./lo":[172,66],"./lo.js":[172,66],"./lt":[173,67],"./lt.js":[173,67],"./lv":[174,68],"./lv.js":[174,68],"./me":[175,69],"./me.js":[175,69],"./mi":[176,70],"./mi.js":[176,70],"./mk":[177,71],"./mk.js":[177,71],"./ml":[178,72],"./ml.js":[178,72],"./mn":[179,73],"./mn.js":[179,73],"./mr":[180,74],"./mr.js":[180,74],"./ms":[182,76],"./ms-my":[181,75],"./ms-my.js":[181,75],"./ms.js":[182,76],"./mt":[183,77],"./mt.js":[183,77],"./my":[184,78],"./my.js":[184,78],"./nb":[185,79],"./nb.js":[185,79],"./ne":[186,80],"./ne.js":[186,80],"./nl":[188,82],"./nl-be":[187,81],"./nl-be.js":[187,81],"./nl.js":[188,82],"./nn":[189,83],"./nn.js":[189,83],"./pa-in":[190,84],"./pa-in.js":[190,84],"./pl":[191,85],"./pl.js":[191,85],"./pt":[193,87],"./pt-br":[192,86],"./pt-br.js":[192,86],"./pt.js":[193,87],"./ro":[194,88],"./ro.js":[194,88],"./ru":[195,89],"./ru.js":[195,89],"./sd":[196,90],"./sd.js":[196,90],"./se":[197,91],"./se.js":[197,91],"./si":[198,92],"./si.js":[198,92],"./sk":[199,93],"./sk.js":[199,93],"./sl":[200,94],"./sl.js":[200,94],"./sq":[201,95],"./sq.js":[201,95],"./sr":[203,97],"./sr-cyrl":[202,96],"./sr-cyrl.js":[202,96],"./sr.js":[203,97],"./ss":[204,98],"./ss.js":[204,98],"./sv":[205,99],"./sv.js":[205,99],"./sw":[206,100],"./sw.js":[206,100],"./ta":[207,101],"./ta.js":[207,101],"./te":[208,102],"./te.js":[208,102],"./tet":[209,103],"./tet.js":[209,103],"./tg":[210,104],"./tg.js":[210,104],"./th":[211,105],"./th.js":[211,105],"./tl-ph":[212,106],"./tl-ph.js":[212,106],"./tlh":[213,107],"./tlh.js":[213,107],"./tr":[214,108],"./tr.js":[214,108],"./tzl":[215,109],"./tzl.js":[215,109],"./tzm":[217,111],"./tzm-latn":[216,110],"./tzm-latn.js":[216,110],"./tzm.js":[217,111],"./ug-cn":[218,112],"./ug-cn.js":[218,112],"./uk":[219,113],"./uk.js":[219,113],"./ur":[220,114],"./ur.js":[220,114],"./uz":[222,116],"./uz-latn":[221,115],"./uz-latn.js":[221,115],"./uz.js":[222,116],"./vi":[223,117],"./vi.js":[223,117],"./x-pseudo":[224,118],"./x-pseudo.js":[224,118],"./yo":[225,119],"./yo.js":[225,119],"./zh-cn":[226,120],"./zh-cn.js":[226,120],"./zh-hk":[227,121],"./zh-hk.js":[227,121],"./zh-tw":[228,122],"./zh-tw.js":[228,122]};function s(e){var t=n[e];return t?a.e(t[1]).then(function(){var e=t[0];return a.t(e,7)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}s.keys=function(){return Object.keys(n)},s.id=394,e.exports=s},395:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(95),c=a.n(r),o=a(45),i=a.n(o),l=a(9),u=(a(239),a(241),a(243),a(11)),m=a(12),d=a(14),p=a(13),h=a(15),f=a(98),v=a.n(f),E="AUTHENTICATION_FLOW",g="LOGOUT_FLOW",j="SIGN_UP_FLOW",b="VERIFYING_TOKEN_FLOW",N="ADD_POST_FLOW",y="RETRIEVE_POSTS_FLOW",O=function(e){return{type:"SIGN_UP_PENDING",payload:{isPending:e}}},I=function(){return{type:"SIGN_UP_FAILURE"}},S=function(e){return{type:"SIGN_UP_SUCCESS",payload:{user:{email:e}}}},k=function(e){return{type:"AUTHENTICATION_PENDING",payload:{isPending:e}}},w=function(){return{type:"AUTHENTICATION_FAIL"}},x=function(e){return{type:"AUTHENTICATION_SUCCESS",payload:{user:{email:e}}}},T=function(e){return{type:"VERIFYING_TOKEN_PENDING",payload:{isVerifing:e}}},P=function(e){return{type:"TOKEN_VALID",payload:{userInfo:e}}},_=function(){return{type:"TOKEN_INVALIDATE",payload:{err:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Generic error"}}},A=function(){return{type:"LOGOUT"}},C=a(396),U=a(100),L=a(399),D=function(e){var t=e.visibile?"is-active":null,a=e.visibile?"up":"down";return s.a.createElement("div",{className:"buttons dropdown "+t},s.a.createElement("button",{onClick:e.onClick,className:"button is-primary"},s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas fa-user"})),s.a.createElement("span",null,e.username),s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-angle-"+a,"aria-hidden":"true"}))),s.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu3",role:"menu"},s.a.createElement("div",{class:"dropdown-content"},s.a.createElement("a",{href:"noopener",class:"dropdown-item"},"Test"),s.a.createElement("hr",{className:"dropdown-divider"}),s.a.createElement("a",{onClick:e.onLogout,rel:"nofollow noopener",href:"#logout",class:"dropdown-item"},s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas fa-lock","aria-hidden":"true"})),s.a.createElement("span",null,"Logout")))))},F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={showMobileNavbar:!1,dropdownUserIsVisible:!1},a.dropDownUserHandler=function(e){a.setState(function(e){return{dropdownUserIsVisible:!e.dropdownUserIsVisible}})},a.onBurgerButtonClick=function(e){a.setState(function(e){return{showMobileNavbar:!e.showMobileNavbar}})},a.isBurgerBarFocused=function(){return a.state.showMobileNavbar?"is-active":""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("a",{className:"navbar-item",href:"https://github.com/irsooti/blog-experiment/tree/dev"},s.a.createElement("span",{className:"is-bold"},"SBLOG")),s.a.createElement("div",{className:"navbar-burger burger ".concat(this.isBurgerBarFocused()),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:this.onBurgerButtonClick},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"basicblogNavbar",className:"navbar-menu ".concat(this.isBurgerBarFocused())},s.a.createElement("div",{className:"navbar-start"},s.a.createElement(C.a,{className:"navbar-item",activeClassName:"is-active",exact:!0,to:"/"},"Home"),void 0!==this.props.user.email?s.a.createElement(C.a,{className:"navbar-item",activeClassName:"is-active",to:"/newpost"},"New post"):null),void 0===this.props.user.email?s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement(U.a,{to:"/signup",className:"button is-primary"},s.a.createElement("strong",null,"Sign up")),s.a.createElement(U.a,{className:"button is-light",to:"/login"},"Log in")))):s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement(D,{visibile:this.state.dropdownUserIsVisible,username:this.props.user.email,onLogout:this.props.onLogout,onClick:this.dropDownUserHandler})))))}}]),t}(n.Component),V=Object(L.a)(Object(l.b)(function(e){return{user:e.auth.user}},function(e){return{onLogout:function(){return e({type:g})}}})(F)),R=a(17);function z(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var G=a(397),B=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={user:"",pass:"",userIsValid:!1},a.handleCredential=function(e){return function(t){var n=Object(R.a)({},a.state);n[e]=t.target.value,console.log(a.onEmailValidation(n.user)),a.setState({user:n.user,pass:n.pass})}},a.onAuthenticate=function(){var e=a.state,t=e.user,n=e.pass;console.log(t,n),z(a.state.user)&&a.props.authenticate(t,n)},a.onEmailValidation=function(e){return z(e)?(a.setState({userIsValid:!0}),!0):(a.setState({userIsValid:!1}),!1)},a.onFormValidation=function(e){e.preventDefault(),console.log(e),a.onAuthenticate()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.isPending?"is-loading":"",t=s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{class:"hero is-medium is-primary"},s.a.createElement("div",{class:"hero-body"},s.a.createElement("div",{class:"container"},s.a.createElement("h1",{class:"title"},"Login"),s.a.createElement("h2",{class:"subtitle"},"Authenticate and ",s.a.createElement("strong",null,"start your stories"))))),s.a.createElement("form",{onSubmit:this.onFormValidation},s.a.createElement("div",{style:{marginTop:"1em"},class:"columns is-mobile"},s.a.createElement("div",{class:"column is-3 is-offset-4"},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",placeholder:"Email",value:this.state.user,onChange:this.handleCredential("user")}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas ".concat(this.state.userIsValid?"fa-check":"fa-times")})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",value:this.state.pass,placeholder:"Password",onChange:this.handleCredential("pass")}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("button",{type:"submit",className:"button is-success ".concat(e)},"Login"))))))),a=s.a.createElement(G.a,{to:{pathname:"/"}});return this.props.isAuthenticated?a:t}}]),t}(n.Component),H=Object(l.b)(function(e){return{user:e.auth.user,isAuthenticated:e.auth.isAuthenticated,isPending:e.auth.isPending}},function(e){return{authenticate:function(t,a){return e({type:E,payload:{email:t,password:a}})}}})(B),M=a(398),W=a(400),K=a(99),Y=function(e){return{isAuthenticated:e.auth.isAuthenticated}},q=function(e){return Object(l.b)(Y)(function(e){return function(t){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).IsNotAuthenticatedFragment=s.a.createElement(G.a,{to:{pathname:"/login",state:{from:t.props.location}}}),t}return Object(h.a)(a,t),Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.isAuthenticated?s.a.createElement(e,this.props):this.IsNotAuthenticatedFragment)}}]),a}(s.a.Component)}(e))},J=function(e){return{type:"ADD_POST_SUCCESS",payload:{postIdRetrieved:e}}},X=function(e){return{type:"ADD_POST_FAILURE",payload:{retrievePostError:e}}},Z=function(e){return{type:"ADD_POST_PENDING",payload:{addingPostIsPending:e}}},$=function(e){return{type:"RETRIEVE_POSTS_SUCCESS",payload:{posts:e}}},Q=function(e){return{type:"RETRIEVE_POSTS_FAILURE",payload:{retrievePostsError:e}}},ee=function(e){return{type:"RETRIEVE_POSTS_PENDING_STATUS",payload:{isPending:e}}},te=a(101),ae=a.n(te),ne=a(32),se=a.n(ne),re=function(e){return s.a.createElement("div",{className:"column is-full"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image is-48x48 "},s.a.createElement("img",{className:"is-rounded",src:"https://bulma.io/images/placeholders/96x96.png",alt:"Placeholder"}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-4"},e.title),s.a.createElement("p",{className:"subtitle is-6"},"@anon"))),s.a.createElement("div",{className:"content"},ae()(e.text),s.a.createElement("br",null),s.a.createElement("time",{datetime:"2016-1-1"},se()(e.timestamp).fromNow())))))},ce=function(e){return console.log(e),s.a.createElement("div",{className:"columns is-multiline"},e.posts.map(function(e){return s.a.createElement(re,{key:e.id,title:e.title,text:e.text,timestamp:e.timestamp})}))},oe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllPosts()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"hero is-link is-large"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"title"},s.a.createElement("span",{className:"has-text-weight-bold is-size-1"},"SuperSimpliest blog"),s.a.createElement("br",null),s.a.createElement("span",{className:"is-size-4 has-text-white"},"in the world"))))),s.a.createElement("section",{style:{marginTop:"1em"},className:"homepost-articles"},s.a.createElement("div",{className:"container posts-distance"},s.a.createElement(ce,{posts:this.props.posts}))))}}]),t}(n.Component),ie=Object(l.b)(function(e){return{retrievePostError:e.posts.retrievePostError,posts:function(){var t=[];return Object.keys(e.posts.all).map(function(a,n){return Object.keys(e.posts.all[a]).map(function(n,s){return console.log(e.posts.all[a][n]),t.push({id:n,text:e.posts.all[a][n].text,title:e.posts.all[a][n].title,timestamp:e.posts.all[a][n].timestamp}),!0}),!0}),t}(),postsLoadingStatus:e.posts.retrievePostsIsPending}},function(e){return{getAllPosts:function(){return e({type:y})}}})(oe),le=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={user:"",pass:"",userIsValid:!1},a.handleCredential=function(e){return function(t){var n=Object(R.a)({},a.state);n[e]=t.target.value,console.log(a.onEmailValidation(n.user)),a.setState({user:n.user,pass:n.pass})}},a.onAuthenticate=function(){var e=a.state,t=e.user,n=e.pass;console.log(t,n),z(a.state.user)&&a.props.authenticate(t,n)},a.onEmailValidation=function(e){return z(e)?(a.setState({userIsValid:!0}),!0):(a.setState({userIsValid:!1}),!1)},a.onFormSubmit=function(e){e.preventDefault(),a.onAuthenticate()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.isPending?"is-loading":"",t=s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{class:"hero is-medium is-info"},s.a.createElement("div",{class:"hero-body"},s.a.createElement("div",{class:"container"},s.a.createElement("h1",{class:"title"},"Sign up"),s.a.createElement("h2",{class:"subtitle"},"Start ",s.a.createElement("strong",null,"your stories!"))))),s.a.createElement("form",{onSubmit:this.onFormSubmit},s.a.createElement("div",{className:"container",style:{padding:15}},s.a.createElement("div",{style:{marginTop:"1em"},class:"columns is-desktop is-5"},s.a.createElement("div",{class:"column is-3 is-offset-4"},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",placeholder:"Email",value:this.state.user,onChange:this.handleCredential("user")}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas ".concat(this.state.userIsValid?"fa-check":"fa-times")})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",value:this.state.pass,placeholder:"Password",onChange:this.handleCredential("pass")}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("button",{onClick:this.onAuthenticate,className:"button is-success ".concat(e)},"Register")))))))),a=s.a.createElement(G.a,{to:{pathname:"/"}});return this.props.isAuthenticated?a:t}}]),t}(n.Component),ue=Object(l.b)(function(e){return{user:e.auth.user,isAuthenticated:e.auth.isAuthenticated,isPending:e.auth.isSigninUp}},function(e){return{authenticate:function(t,a){return e({type:j,payload:{email:t,password:a}})}}})(le),me=a(102),de=a.n(me),pe=(a(361),a(363),a(24)),he=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={text:"",title:""},a.handleChangeArticle=function(e){a.setState({text:e})},a.handleChangeTitle=function(e){var t=e.target;a.setState({title:t.value})},a.showIsPostingLoader=function(){return a.props.isLoading?"is-loading":""},a.addPostHandler=function(){var e=a.state,t=e.title,n=e.text;a.props.addPostFlow(t,n)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){this.props.isLoading&&""===this.props.errorMsg&&pe.toast.success("Post published! \ud83c\udf89",{position:pe.toast.POSITION.BOTTOM_RIGHT})}},{key:"render",value:function(){return s.a.createElement("div",{className:"new-post"},s.a.createElement("section",{className:"hero is-light is-is-medium"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container"},s.a.createElement("h6",null,"Your title will sucks anyway"),s.a.createElement("h1",{className:"title is-size-2"},s.a.createElement("input",{placeholder:"Title",className:"input-title",type:"text",onChange:this.handleChangeTitle,value:this.state.title}))))),s.a.createElement(de.a,{value:this.state.text,onChange:this.handleChangeArticle}),s.a.createElement("div",{style:{marginTop:"1em",textAlign:"right"},className:"column is-3"},s.a.createElement("button",{onClick:this.addPostHandler,className:"button is-primary is-large is-fullwidth "+this.showIsPostingLoader()},"Post it!")))}}]),t}(n.Component),fe=Object(l.b)(function(e){return{isLoading:e.posts.addingPostIsPending,errorMsg:e.posts.retrievePostError}},function(e){return{addPostFlow:function(t,a){return e({type:N,payload:{title:t,text:a}})}}})(he);var ve=function(e){return s.a.createElement("section",{class:"hero is-warning is-fullheight"},s.a.createElement("div",{class:"hero-body"},s.a.createElement("div",{class:"container"},s.a.createElement("h1",{class:"title"},"Are you lost?"),s.a.createElement("h2",{class:"subtitle"},"As we said in Sicily... Chi minchia talii?"))))},Ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("refreshToken");e&&this.props.preAuthenticate(e)}},{key:"componentDidUpdate",value:function(){null!==this.props.user&&this.props.user==={}&&pe.toast.success("You are in bro! \ud83d\udcaa",{position:pe.toast.POSITION.BOTTOM_RIGHT})}},{key:"render",value:function(){return s.a.createElement(M.a,null,s.a.createElement("div",{className:v.a.test},s.a.createElement(V,null),s.a.createElement(W.a,null,s.a.createElement(K.a,{exact:!0,path:"/",component:ie}),s.a.createElement(K.a,{path:"/login/",component:H}),s.a.createElement(K.a,{path:"/signup/",component:ue}),s.a.createElement(K.a,{path:"/newpost/",component:q(fe)}),s.a.createElement(K.a,{component:ve})),s.a.createElement(pe.ToastContainer,null),s.a.createElement("footer",{className:"footer",style:{marginTop:10}},s.a.createElement("div",{className:"content has-text-centered"},s.a.createElement("p",null,s.a.createElement("strong",null,"SBLOG")," by sto cazzo \ud83d\udc97")))))}}]),t}(n.Component),ge=Object(l.b)(function(e){return{user:e.auth.user}},function(e){return{preAuthenticate:function(t){return e({type:b,payload:{token:t}})}}})(Ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=a(18),be=a(105),Ne={isLoading:!0},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return(arguments.length>1?arguments[1]:void 0).type,e},Oe=function(e,t){return Object(R.a)({},e,t)},Ie={isPending:!1,isSigninUp:!1,isAuthenticated:!1,user:{}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP_SUCCESS":case"AUTHENTICATION_SUCCESS":return Oe(e,{isAuthenticated:!0,user:Object(R.a)({},e.user,t.payload.user)});case"SIGN_UP_FAILURE":case"AUTHENTICATION_FAIL":return Oe(e,{isAuthenticated:!1});case"LOGOUT":return Oe(e,{isAuthenticated:!1,user:{}});case"AUTHENTICATION_PENDING":return Oe(e,{isPending:t.payload.isPending});case"SIGN_UP_PENDING":return Oe(e,{isSigninUp:t.payload.isPending});default:return e}},ke={addingPostIsPending:!1,retrievePostsIsPending:!1,postIdRetrieved:null,retrievePostError:"",all:{}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST_PENDING":return Oe(e,{addingPostIsPending:t.payload.addingPostIsPending});case"ADD_POST_SUCCESS":return Object(R.a)({},e,{postIdRetrieved:t.payload.postIdRetrieved,retrievePostError:""});case"ADD_POST_FAILURE":return Oe(e,{retrievePostError:t.payload.retrievePostError});case"RETRIEVE_POSTS_PENDING_STATUS":return Oe(e,{retrievePostsIsPending:t.payload.isPending});case"RETRIEVE_POSTS_SUCCESS":return Oe(e,{all:t.payload.posts});case"RETRIEVE_POSTS_FAILURE":return Oe(e,{retrievePostsError:t.payload.retrievePostsError});default:return e}},xe=a(103),Te=a(104),Pe=a.n(Te),_e=a(8),Ae=a.n(_e),Ce=a(4),Ue=a(25),Le=a.n(Ue),De="AIzaSyAUe_5fJKIV0k5SAyqp9GO-FBgoLYleRvM",Fe=function(e,t){return Le.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key="+De,{email:e,password:t,returnSecureToken:!0}).then(function(e){return e.data}).catch(function(e){console.warn("Firebase auth failed",e)})},Ve=function(e){return Le.a.post("https://securetoken.googleapis.com/v1/token?key="+De,{refresh_token:e,grant_type:"refresh_token"}).then(function(e){return e.data}).catch(function(e){console.warn("Firebase re-auth failed",e)})},Re=function(e,t){return Le.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key="+De,{email:e,password:t,returnSecureToken:!0}).then(function(e){return e.data}).catch(function(e){return e})},ze=Ae.a.mark(Me),Ge=Ae.a.mark(We),Be=Ae.a.mark(Ke),He=Ae.a.mark(Ye);function Me(e){var t;return Ae.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ce.c)(k(!0));case 2:return a.prev=2,a.next=5,Object(Ce.b)(Fe,e.payload.email,e.payload.password);case 5:return t=a.sent,a.next=8,localStorage.setItem("refreshToken",t.refreshToken);case 8:return a.next=10,localStorage.setItem("username",t.email);case 10:return a.next=12,localStorage.setItem("token",t.idToken);case 12:return a.next=14,localStorage.setItem("localId",t.localId);case 14:return a.next=16,Object(Ce.c)(x(t.email));case 16:a.next=30;break;case 18:return a.prev=18,a.t0=a.catch(2),a.next=22,Object(Ce.c)(w());case 22:return a.next=24,localStorage.removeItem("refreshToken");case 24:return a.next=26,localStorage.removeItem("username");case 26:return a.next=28,localStorage.removeItem("token");case 28:return a.next=30,localStorage.removeItem("localId");case 30:return a.prev=30,a.next=33,Object(Ce.c)(k(!1));case 33:return a.finish(30);case 34:case"end":return a.stop()}},ze,this,[[2,18,30,34]])}function We(e){var t;return Ae.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ce.c)(O(!0));case 2:return a.prev=2,a.next=5,Object(Ce.b)(Re,e.payload.email,e.payload.password);case 5:return t=a.sent,a.next=8,localStorage.setItem("refreshToken",t.refreshToken);case 8:return a.next=10,localStorage.setItem("username",t.email);case 10:return a.next=12,localStorage.setItem("token",t.idToken);case 12:return a.next=14,localStorage.setItem("localId",t.localId);case 14:return a.next=16,Object(Ce.c)(S(t.email));case 16:a.next=30;break;case 18:return a.prev=18,a.t0=a.catch(2),a.next=22,Object(Ce.c)(I());case 22:return a.next=24,localStorage.removeItem("refreshToken");case 24:return a.next=26,localStorage.removeItem("username");case 26:return a.next=28,localStorage.removeItem("token");case 28:return a.next=30,localStorage.removeItem("localId");case 30:return a.prev=30,a.next=33,Object(Ce.c)(O(!1));case 33:return a.finish(30);case 34:case"end":return a.stop()}},Ge,this,[[2,18,30,34]])}function Ke(e){var t;return Ae.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ce.c)(T(!0));case 2:return a.prev=2,a.next=5,Object(Ce.b)(Ve,e.payload.token);case 5:if(t=a.sent,localStorage.getItem("username")){a.next=8;break}throw new Error("Username misconfiguration");case 8:return a.next=10,localStorage.setItem("token",t.access_token);case 10:return a.next=12,localStorage.setItem("refreshToken",t.refresh_token);case 12:return a.next=14,localStorage.setItem("localId",t.user_id);case 14:return a.next=16,Object(Ce.c)(x(localStorage.getItem("username")));case 16:return a.next=18,Object(Ce.c)(P(t));case 18:a.next=32;break;case 20:return a.prev=20,a.t0=a.catch(2),a.next=24,localStorage.removeItem("refreshToken");case 24:return a.next=26,localStorage.removeItem("username");case 26:return a.next=28,localStorage.removeItem("token");case 28:return a.next=30,localStorage.removeItem("localId");case 30:return a.next=32,Object(Ce.c)(_());case 32:return a.prev=32,a.next=35,Object(Ce.c)(T(!1));case 35:return a.finish(32);case 36:case"end":return a.stop()}},Be,this,[[2,20,32,36]])}function Ye(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("refreshToken");case 2:return e.next=4,localStorage.removeItem("token");case 4:return e.next=6,localStorage.removeItem("username");case 6:return e.next=8,Object(Ce.c)(A());case 8:case"end":return e.stop()}},He,this)}var qe=function(e,t,a){var n={params:{auth:e}};return Le.a.post("".concat("https://sblog-175ab.firebaseio.com","/posts/").concat(t,".json"),Object(R.a)({},a,{timestamp:new Date}),n).then(function(e){return e.data.name}).catch(function(e){return console.warn("Error at post ",e),e})},Je=function(){return Le.a.get("".concat("https://sblog-175ab.firebaseio.com","/posts.json")).then(function(e){return e.data}).catch(function(e){return e})},Xe=Ae.a.mark($e),Ze=Ae.a.mark(Qe);function $e(e){var t,a,n;return Ae.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(Ce.c)(Z(!0));case 2:return s.prev=2,t=localStorage.getItem("token"),a=localStorage.getItem("localId"),console.log(t),s.next=8,Object(Ce.b)(qe,t,a,e.payload);case 8:return n=s.sent,console.log(n),s.next=12,Object(Ce.c)(J(n));case 12:s.next=18;break;case 14:return s.prev=14,s.t0=s.catch(2),s.next=18,Object(Ce.c)(X("Generic error "+s.t0));case 18:return s.prev=18,s.next=21,Object(Ce.c)(Z(!1));case 21:return s.finish(18);case 22:case"end":return s.stop()}},Xe,this,[[2,14,18,22]])}function Qe(){var e;return Ae.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ce.c)(ee(!0));case 2:return t.prev=2,t.next=5,Object(Ce.b)(Je);case 5:return e=t.sent,t.next=8,Object(Ce.c)($(e));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(2),t.next=14,Object(Ce.c)(Q(t.t0));case 14:return t.prev=14,t.next=17,Object(Ce.c)(ee(!1));case 17:return t.finish(14);case 18:case"end":return t.stop()}},Ze,this,[[2,10,14,18]])}var et=Ae.a.mark(tt);function tt(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ce.a,e.next=3,Object(Ce.d)(E,Me);case 3:return e.t1=e.sent,e.next=6,Object(Ce.d)(b,Ke);case 6:return e.t2=e.sent,e.next=9,Object(Ce.d)(N,$e);case 9:return e.t3=e.sent,e.next=12,Object(Ce.d)(y,Qe);case 12:return e.t4=e.sent,e.next=15,Object(Ce.d)(g,Ye);case 15:return e.t5=e.sent,e.next=18,Object(Ce.d)(j,We);case 18:return e.t6=e.sent,e.t7=[e.t1,e.t2,e.t3,e.t4,e.t5,e.t6],e.next=22,(0,e.t0)(e.t7);case 22:case"end":return e.stop()}},et,this)}var at=je.d;at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d;var nt=Object(be.a)(),st=Object(je.c)({common:ye,auth:Se,posts:we}),rt=function(){var e=Object(je.e)(st,at(Object(je.a)(xe.a),Object(je.a)(nt),Object(je.a)(Pe.a)));return nt.run(tt),e};a(394)("./"+window.navigator.language),c.a.load(),se.a.locale(),i.a.render(s.a.createElement(l.a,{store:rt()},s.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,t,a){}},[[229,125,124]]]);
//# sourceMappingURL=main.ad90bd0d.chunk.js.map